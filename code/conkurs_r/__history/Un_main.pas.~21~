unit Un_main;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs;

type
  TForm2 = class(TForm)
    procedure FormCreate(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Form2: TForm2;

implementation


{$R *.dfm}
function AddNumbers(num1, num2: Integer): Integer; stdcall;
  external 'mylib.dll' name 'AddNumbers';
  procedure TForm2.FormCreate(Sender: TObject);
  var
  Num1,
  Num2,
  CorrectAnswer,
  UserAnswer: Integer;
  var inputStr:string;
begin
Randomize;
 Num1 := Random(10);
  Num2 := Random(10);
  ShowMessage(IntToStr(Num1));
    ShowMessage(IntToStr(Num2));
  CorrectAnswer :=AddNumbers(Num1, Num2);
   ShowMessage('Результат: ' + IntToStr(CorrectAnswer));
  // Запрос ответа пользователя через InputQuery
  if not InputQuery('Ответ', 'Сколько будет ' + IntToStr(Num1) + ' + ' +
  IntToStr(Num2) + '?', InputStr) then
  begin
    ShowMessage('Операция отменена пользователем.');
    Exit;
  end;
    // Проверка на пустой ввод
InputStr := Trim(InputStr); // Удаление лишних пробелов
if InputStr = '' then
begin
  ShowMessage('Ошибка: вы не ввели ответ.');
  Exit;
end;
  // Преобразование введенного ответа в число
  try
    UserAnswer := StrToInt(InputStr);
  except
    on E: EConvertError do
    begin
      ShowMessage('Ошибка: введенные данные не являются числом.');
      Exit;
    end;
  end;
  if UserAnswer = CorrectAnswer then
    ShowMessage('Правильно!')
  else
    ShowMessage(Format('Неправильно! Правильный ответ: %d.', [CorrectAnswer]));
end;




end.

